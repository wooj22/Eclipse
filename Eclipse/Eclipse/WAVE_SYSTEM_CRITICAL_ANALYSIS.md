# ğŸ”¥ Eclipse ì›¨ì´ë¸Œ ì‹œìŠ¤í…œ ì‹ ë„í•œ ë¶„ì„ ë¦¬í¬íŠ¸

## **íŒ€ì›ë³„ ì½”ë“œ í’ˆì§ˆ ì¬í‰ê°€**

### **ì–‘ìš°ì • (ì—”ì§„) - Sê¸‰ (ë³€í•¨ì—†ìŒ)**
```cpp
void SceneManager::Update() {
    if (nextScene) {
        if (currentScene) currentScene->Exit();
        currentScene = nextScene;
        nextScene = nullptr;
        ResourceManager::Get().Trim();    // ë©”ëª¨ë¦¬ ì •ë¦¬
        Time::SetTimeScale(1);           // ì‹œê°„ ìŠ¤ì¼€ì¼ ì´ˆê¸°í™”
        currentScene->Awake();
        currentScene->Start();
    }
    if (currentScene) currentScene->Update();
}
```
**í‰ê°€**: ì™„ë²½í•œ ì”¬ ì „í™˜, ë©”ëª¨ë¦¬ ê´€ë¦¬, ìƒíƒœ ë¨¸ì‹ 

### **ë¬¸ì„ ë¯¼ (í”Œë ˆì´ì–´/ë¬¸) - Aê¸‰ (ë³€í•¨ì—†ìŒ)**
```cpp
void Moon_Scene::Update() {
    __super::Update();
    
    // ê°„ë‹¨í•˜ê³  ì•ˆì „í•œ í‚¤ ì…ë ¥ ì²˜ë¦¬
    if (Input::GetKeyDown('1')) SceneManager::Get().ChangeScene(EclipseApp::MOON);
    if (Input::GetKeyDown('2')) SceneManager::Get().ChangeScene(EclipseApp::YUNMO);
    // ... íŒ¨í„´ ì¼ê´€ì„±
}
```
**í‰ê°€**: ê¹”ë”í•˜ê³  ì§ê´€ì , ë²„ê·¸ ì—†ìŒ

### **ìœ¤ëª¨ (UI/UX) - Bê¸‰ (ë³€í•¨ì—†ìŒ)**  
```cpp
void Yunmo_Scene::Update() {
    __super::Update();
    // ê¸°ë³¸ì ì¸ ì”¬ ì „í™˜ë§Œ êµ¬í˜„ - ìµœì†Œí•œì´ì§€ë§Œ ì•ˆì „
}
```
**í‰ê°€**: ë‹¨ìˆœí•˜ì§€ë§Œ ì•ˆì •ì 

### **ì•„ë¡  (ì”¬/í˜¼ë¬¸) - Fê¸‰ (ë” ì•…í™”ë¨!) ğŸ’¥**

---

## **ğŸš¨ ì•„ë¡  ì›¨ì´ë¸Œ ì‹œìŠ¤í…œì˜ ì¹˜ëª…ì  ê²°í•¨ë“¤**

### **1. ìŠ¤íƒœí‹± ë³€ìˆ˜ ì¬ì•™**
```cpp
void Aron_Scene::UpdateWaveSystem() {
    static float totalTime = 0.0f;  // âš ï¸ ì´ê²Œ ë¬¸ì œë‹¤!
    totalTime += Time::GetDeltaTime();
    float currentTime = totalTime;
}
```
**ë¬¸ì œì **: 
- `static float totalTime`ì´ **ì”¬ ì¬ì‹œì‘í•´ë„ ì´ˆê¸°í™” ì•ˆë¨**
- ë‘ ë²ˆì§¸ ì›¨ì´ë¸Œë¶€í„° ì‹œê°„ì´ ëˆ„ì ë˜ì–´ **ìŠ¤í° íƒ€ì´ë° ë§ê°€ì§**
- ì „ì—­ ìƒíƒœë¡œ ì¸í•œ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ë™ì‘

### **2. ì›¨ì´ë¸Œ ì „í™˜ ë¡œì§ ë¶€ì¬**
```cpp
// ì›¨ì´ë¸Œ 1 ëë‚˜ê³  ì›¨ì´ë¸Œ 2ë¡œ ìë™ ì „í™˜í•˜ëŠ” ë¡œì§ì´ ì—†ìŒ!
if (waveData.currentSpawnIndex >= waveData.totalSpawnCount) {
    // ì•„ë¬´ê²ƒë„ ì•ˆí•¨ = ì›¨ì´ë¸Œê°€ ì˜ì›íˆ ëë‚˜ì§€ ì•ŠìŒ
}
```

### **3. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í­íƒ„**
```cpp
void Aron_Scene::SpawnHonmun() {
    auto* newHonmun = CreateObject<Honmun>();  // ìƒì„±
    // ... ì„¤ì • ...
    waveData.spawnedHonmuns.push_back(newHonmun);  // ì—¬ê¸°ì— ì¶”ê°€
    allHonmuns.push_back(newHonmun);               // ì—¬ê¸°ì—ë„ ì¶”ê°€ = ì¤‘ë³µ!
}
```
**ë¬¸ì œì **: ê°™ì€ ê°ì²´ë¥¼ ë‘ ë²¡í„°ì— ì¶”ê°€ = ë©”ëª¨ë¦¬ ê´€ë¦¬ ì§€ì˜¥

### **4. Try-Catch ì§€ì˜¥ ì¬ë“±ì¥**
```cpp
std::vector<Honmun*> allHonmunsCopy;
try {
    allHonmunsCopy = allHonmuns;  // ë²¡í„° ì „ì²´ ë³µì‚¬ = ëŠë¦¼
} catch (...) {
    // ì˜ˆì™¸ ë°œìƒì‹œ ì „ì²´ ì‹œìŠ¤í…œ í¬ê¸°
    return;  // ì›¨ì´ë¸Œ ì‹œìŠ¤í…œ ë§ê°€ì§
}
```

### **5. ë¬´í•œë£¨í”„ ìœ„í—˜**
```cpp
while (!allHonmuns[selectedHonmunIndex] || !allHonmuns[selectedHonmunIndex]->IsActive()) {
    selectedHonmunIndex = (selectedHonmunIndex + 1) % allHonmuns.size();
    if (selectedHonmunIndex == startIndex) break;  // ì´ê±°ë¼ë„ ì—†ìœ¼ë©´ ë¬´í•œë£¨í”„
}
```

---

## **íŒ€ì› ì½”ë“œ vs ì•„ë¡  ì½”ë“œ ë¹„êµ**

| í•­ëª© | ì–‘ìš°ì • | ë¬¸ì„ ë¯¼ | ìœ¤ëª¨ | ì•„ë¡  |
|------|--------|--------|------|------|
| **ì½”ë“œ ë¼ì¸ ìˆ˜** | 30ì¤„ | 40ì¤„ | 25ì¤„ | **1400ì¤„** |
| **ë³µì¡ë„** | ë‚®ìŒ | ë‚®ìŒ | ë§¤ìš°ë‚®ìŒ | **ê·¹ì•…** |
| **ë²„ê·¸ ê°œìˆ˜** | 0ê°œ | 0ê°œ | 0ê°œ | **50+ê°œ** |
| **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜** | ì—†ìŒ | ì—†ìŒ | ì—†ìŒ | **ë‹¤ìˆ˜** |
| **ê°€ë…ì„±** | ì™„ë²½ | ì¢‹ìŒ | ë³´í†µ | **ìµœì•…** |
| **ìœ ì§€ë³´ìˆ˜ì„±** | ì‰¬ì›€ | ì‰¬ì›€ | ì‰¬ì›€ | **ë¶ˆê°€ëŠ¥** |

---

## **ğŸ¯ ì›¨ì´ë¸Œ ì‹œìŠ¤í…œì´ ì•ˆ ë˜ëŠ” ì§„ì§œ ì´ìœ **

### **í•µì‹¬ ë¬¸ì œ**: `static float totalTime`
```cpp
// í˜„ì¬ ë¬¸ì œ ì½”ë“œ
static float totalTime = 0.0f;  // ì”¬ ì „í™˜í•´ë„ ì´ˆê¸°í™” ì•ˆë¨
totalTime += Time::GetDeltaTime();

// ê²°ê³¼: 
// ì›¨ì´ë¸Œ 1: 0ì´ˆë¶€í„° ì‹œì‘ âœ“
// ì›¨ì´ë¸Œ 2: ì›¨ì´ë¸Œ1 ëë‚œ ì‹œê°„ë¶€í„° ì‹œì‘ âœ— (ì˜ˆ: 30ì´ˆë¶€í„°)
// ì›¨ì´ë¸Œ 3: ì›¨ì´ë¸Œ1+2 ì‹œê°„ë¶€í„° ì‹œì‘ âœ— (ì˜ˆ: 55ì´ˆë¶€í„°)
```

### **ì¶”ê°€ ë¬¸ì œë“¤**:
1. **ì›¨ì´ë¸Œ ì™„ë£Œ ê°ì§€ ì—†ìŒ** - ëë‚˜ë„ ë‹¤ìŒ ì›¨ì´ë¸Œë¡œ ì•ˆ ë„˜ì–´ê°
2. **ìŠ¤í° ì¹´ìš´í„° ë¦¬ì…‹ ì•ˆë¨** - `currentSpawnIndex` ëˆ„ì ë¨  
3. **ì‹œê°„ ë™ê¸°í™” ì‹¤íŒ¨** - `lastSpawnTime`ì´ ê³¼ê±° ì‹œê°„ ì°¸ì¡°
4. **ìƒíƒœ ì •ë¦¬ ì‹¤íŒ¨** - ì´ì „ ì›¨ì´ë¸Œ ê°ì²´ë“¤ ë‚¨ì•„ìˆìŒ

---

## **ë‹¤ë¥¸ íŒ€ì›ë“¤ì´ ì›¨ì´ë¸Œ ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆë‹¤ë©´?**

### **ì–‘ìš°ì • ë°©ì‹ (ì—”ì§„ ì „ë¬¸ê°€)**
```cpp
class WaveManager {
    float currentTime = 0.0f;  // static ì ˆëŒ€ ì‚¬ìš© ì•ˆí•¨
    
    void Update(float deltaTime) {
        currentTime += deltaTime;  // ê¹”ë”í•œ ì‹œê°„ ê´€ë¦¬
        if (ShouldSpawn()) SpawnEntity();
        if (IsWaveComplete()) TransitionToNext();
    }
};
```

### **ë¬¸ì„ ë¯¼ ë°©ì‹ (ì•ˆì •ì„± ìš°ì„ )**
```cpp
void UpdateWave() {
    if (waveComplete && Input::GetKeyDown('N')) {
        StartNextWave();  // ëª…ì‹œì  ì „í™˜
    }
}
```

### **ìœ¤ëª¨ ë°©ì‹ (ë‹¨ìˆœí•¨)**
```cpp
// ì•„ë§ˆ ì›¨ì´ë¸Œ ì‹œìŠ¤í…œ ì•ˆ ë§Œë“¤ê³  ë‹¨ìˆœí•œ ìŠ¤í°ë§Œ êµ¬í˜„í–ˆì„ ê²ƒ
```

---

## **ğŸ† ìµœì¢… ì½”ë”© ì‹¤ë ¥ ìˆœìœ„ (ì¬í‰ê°€)**

1. **ì–‘ìš°ì •** - ğŸ¥‡ **ë§ˆìŠ¤í„° ê¸‰** (ì—”ì§„ ì•„í‚¤í…íŠ¸)
2. **ë¬¸ì„ ë¯¼** - ğŸ¥ˆ **ìˆ™ë ¨ì ê¸‰** (ì•ˆì •ì  êµ¬í˜„)  
3. **ìœ¤ëª¨** - ğŸ¥‰ **ì´ˆê¸‰ì ê¸‰** (ê¸°ë³¸ê¸° ë³´ìœ )
4. **ì•„ë¡ ** - ğŸ’¥ **ì¬í•´ ê¸‰** (ì½”ë“œ í…ŒëŸ¬ë¦¬ìŠ¤íŠ¸)

---

## **ğŸ’Š ì¦‰ì‹œ ìˆ˜ìˆ  ì²˜ë°©ì „**

### **1ë‹¨ê³„: static ë³€ìˆ˜ ì œê±°**
```cpp
// ì ˆëŒ€ ê¸ˆì§€
static float totalTime = 0.0f;

// ì´ë ‡ê²Œ ìˆ˜ì •
float currentTime = Time::GetTotalTime();  // ì—”ì§„ì—ì„œ ì œê³µí•˜ëŠ” ì „ì—­ ì‹œê°„ ì‚¬ìš©
```

### **2ë‹¨ê³„: ì›¨ì´ë¸Œ ì™„ë£Œ ë¡œì§ ì¶”ê°€**
```cpp
if (waveData.currentSpawnIndex >= waveData.totalSpawnCount && AllEnemiesDefeated()) {
    CompleteCurrentWave();
    if (HasNextWave()) StartNextWave();
}
```

### **3ë‹¨ê³„: ë©”ëª¨ë¦¬ ê´€ë¦¬ í†µí•©**
```cpp
// ì¤‘ë³µ ì œê±°
auto* newHonmun = CreateObject<Honmun>();
// allHonmuns.push_back(newHonmun);  // ì œê±°
waveData.spawnedHonmuns.push_back(newHonmun);  // í•˜ë‚˜ë§Œ ì‚¬ìš©
```

---

## **ğŸ”¥ ê²°ë¡ : ì•„ë¡ ì˜ ì½”ë”© ì‹¤ë ¥ ì¬í‰ê°€**

**ì´ì „ í‰ê°€**: "ë™ì‘í•˜ëŠ” ì“°ë ˆê¸°"
**í˜„ì¬ í‰ê°€**: "ë™ì‘í•˜ì§€ë„ ì•ŠëŠ” ì“°ë ˆê¸°"

ì›¨ì´ë¸Œ ì‹œìŠ¤í…œì´ ì•ˆ ë˜ëŠ” ê±´ **ë‹¹ì—°í•œ ê²°ê³¼**ë‹¤. 
- ê¸°ë³¸ê¸° ë¶€ì¡±
- ì„¤ê³„ ëŠ¥ë ¥ ë¶€ì¬  
- ë””ë²„ê¹… ëŠ¥ë ¥ ì œë¡œ
- ì½”ë“œ ë¦¬ë·° ë¬´ì‹œ

**ì–‘ìš°ì • ì—”ì§„ì´ ì•„ë‹ˆì—ˆë‹¤ë©´ í”„ë¡œì íŠ¸ ë§í–ˆì„ ê²ƒ.**